[Jump to Content](https://docs.heygen.com/docs/<#content>)
[![HeyGen API Documentation](https://files.readme.io/cfe89b99576b58ffc0eff1d7774dfe123e10a143f2db69270ecaab7ea4b9faf5-small-Logo_5.png)](https://docs.heygen.com/docs/</>)
[Home](https://docs.heygen.com/docs/</>)[Documentation](https://docs.heygen.com/docs/</docs>)[API Reference](https://docs.heygen.com/docs/</reference>)[Updates](https://docs.heygen.com/docs/</changelog>)[Discussions](https://docs.heygen.com/docs/</discuss>)[Tools](https://docs.heygen.com/docs/</page/tools>)[Community](https://docs.heygen.com/docs/<https:/community.heygen.com/>)[Help](https://docs.heygen.com/docs/<https:/help.heygen.com/en/>)v4.0.8[Log In](https://docs.heygen.com/docs/</login?redirect_uri=/docs/streaming-avatar-sdk-reference>)[![HeyGen API Documentation](https://files.readme.io/cfe89b99576b58ffc0eff1d7774dfe123e10a143f2db69270ecaab7ea4b9faf5-small-Logo_5.png)](https://docs.heygen.com/docs/</>)
Documentation
[Log In](https://docs.heygen.com/docs/</login?redirect_uri=/docs/streaming-avatar-sdk-reference>)
Moon (Dark Mode)Sun (Light Mode)
v4.0.8
[Home](https://docs.heygen.com/docs/</>)[Documentation](https://docs.heygen.com/docs/</docs>)[API Reference](https://docs.heygen.com/docs/</reference>)[Updates](https://docs.heygen.com/docs/</changelog>)[Discussions](https://docs.heygen.com/docs/</discuss>)[Tools](https://docs.heygen.com/docs/</page/tools>)[Community](https://docs.heygen.com/docs/<https:/community.heygen.com/>)[Help](https://docs.heygen.com/docs/<https:/help.heygen.com/en/>)Streaming Avatar SDK API Reference
## Getting Started
  * [Quick Start](https://docs.heygen.com/docs/</docs/quick-start>)


## Generate and translate videos
  * [Create Avatar Videos](https://docs.heygen.com/docs/</docs/create-video>)
    * [Customize Video Background](https://docs.heygen.com/docs/</docs/customize-video-background>)
    * [Using Audio Source as Voice](https://docs.heygen.com/docs/</docs/using-audio-source-as-voice>)
    * [Create Videos with Your Personal Avatar and Voice](https://docs.heygen.com/docs/</docs/create-videos-with-your-personal-avatar-and-voice>)
    * [Create Transparent Avatar Videos in WebM Format](https://docs.heygen.com/docs/</docs/create-webm-avatar-videos>)
  * [Generate Video from Template](https://docs.heygen.com/docs/</docs/generate-video-from-template-v2>)
    * [Replace Image in Template](https://docs.heygen.com/docs/</docs/replace-image-in-template>)
    * [Replace Video in Template](https://docs.heygen.com/docs/</docs/replace-video-in-template>)
    * [Replace Avatar in Template](https://docs.heygen.com/docs/</docs/replace-avatar-in-template>)
    * [Replace Text/Voice in Template](https://docs.heygen.com/docs/</docs/replace-text-in-template>)
    * [Replace Audio in Template](https://docs.heygen.com/docs/</docs/replace-audio-in-template>)
    * [Swap Image and Video in Template](https://docs.heygen.com/docs/</docs/swap-image-and-video-templates>)
    * [Fit Property in Template](https://docs.heygen.com/docs/</docs/fit-property-in-template>)
    * [Video Playback Styles in Template](https://docs.heygen.com/docs/</docs/video-playback-styles-in-template>)
    * [Guide: Simple Python App for Generating Videos from HeyGen Templates](https://docs.heygen.com/docs/</docs/simple-python-app-for-generating-videos-from-heygen-templates>)
  * [HeyGen's Webhook Events](https://docs.heygen.com/docs/</docs/using-heygens-webhook-events>)
    * [Write Your Endpoint To Process Webhook Events](https://docs.heygen.com/docs/</docs/write-your-endpoint-to-process-webhook-events>)
  * [Video Translate API](https://docs.heygen.com/docs/</docs/video-translate-api>)
  * [Photo Avatars API](https://docs.heygen.com/docs/</docs/photo-avatars-api>)
    * [Generate AI Avatar Photos](https://docs.heygen.com/docs/</docs/generate-ai-avatar-photos>)
    * [Create and Train Photo Avatar Groups](https://docs.heygen.com/docs/</docs/create-and-train-photo-avatar-groups>)
    * [Add Motion and Sound Effects to Your Photo Avatar](https://docs.heygen.com/docs/</docs/add-motion-and-sound-effects-to-your-photo-avatar>)
    * [Create Videos with Photo Avatars](https://docs.heygen.com/docs/</docs/create-videos-with-photo-avatars>)


## streaming with interactive avatars
  * [Streaming API Overview](https://docs.heygen.com/docs/</docs/streaming-api>)
    * [Streaming API Integration: using LiveKit](https://docs.heygen.com/docs/</docs/streaming-api-integration-with-livekit-v2>)
    * [React Native Integration with Streaming API + LiveKit](https://docs.heygen.com/docs/</docs/react-native-integration-guide-with-streaming-api-livekit>)
    * [(Alpha) Interactive Avatar Realtime API](https://docs.heygen.com/docs/</docs/interactive-avatar-realtime-api>)
  * [Streaming Avatar SDK](https://docs.heygen.com/docs/</docs/streaming-avatar-sdk>)
    * [Streaming Avatar SDK API Reference](https://docs.heygen.com/docs/</docs/streaming-avatar-sdk-reference>)
    * [Demo: Interactive Avatar NextJS](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/InteractiveAvatarNextJSDemo>)
  * [Demo: Create a Vite Project with Streaming SDK](https://docs.heygen.com/docs/</docs/creating-a-vite-project-with-streaming-sdk>)
    * [Integrating OpenAI Assistant with Streaming SDK](https://docs.heygen.com/docs/</docs/integrate-with-opeanai-assistant>)
    * [Adding Speech-to-Text Integration to Demo Project](https://docs.heygen.com/docs/</docs/adding-speech-to-text-integration-to-demo-project>)
    * [Adding Built-in Voice Chat Integration to Demo Project](https://docs.heygen.com/docs/</docs/adding-built-in-voice-chat-integration-to-demo-project>)
    * [Adding Chroma Key to Streaming Demo Project](https://docs.heygen.com/docs/</docs/adding-chroma-key-to-streaming-demo>)
  * [Demo: Create an iOS App featuring Interactive Avatar](https://docs.heygen.com/docs/</docs/streaming-avatar-ios-sdk>)
  * [Firewall Configuration](https://docs.heygen.com/docs/</docs/firewall-configuration>)


## Automate with HeyGen API
  * [Zapier Integration](https://docs.heygen.com/docs/</docs/create-an-avatar-video-with-zapier>)
    * [Create an Avatar Video with Zapier](https://docs.heygen.com/docs/</docs/create-an-avatar-video-with-zapier>)
    * [Create a Video From Template with Zapier](https://docs.heygen.com/docs/</docs/create-a-video-from-template-with-zapier>)
  * [Personalized Video](https://docs.heygen.com/docs/</docs/personalized-video-service>)
    * [Create personalized video template](https://docs.heygen.com/docs/</docs/create-personalized-video-template>)
    * [Generate personalized videos from template via Google Sheets + Zapier](https://docs.heygen.com/docs/</docs/generate-personalized-videos-from-template-via-google-sheets-zapier>)
    * [Generate personalized videos from template via API](https://docs.heygen.com/docs/<https:/community.heygen.com/public/clubs/api-builders-au0/resources/how-to-use-heygens-api-a-step-by-step-walkthrough>)
    * [Deliver personalized videos via mail merge with Gmail](https://docs.heygen.com/docs/</docs/deliver-personalized-videos-via-mail-merge-with-gmail>)
    * [Deliver personalized videos via HubSpot email](https://docs.heygen.com/docs/</docs/deliver-personalized-videos-via-hubspot-email>)
    * [Automatically generate and deliver personalized videos via HubSpot + Zapier](https://docs.heygen.com/docs/</docs/automatically-generate-and-deliver-personalized-videos-via-hubspot-zapier>)
    * [Upcoming changes to personalized video (Jan, 2025)](https://docs.heygen.com/docs/</docs/upcoming-changes-in-personalized-video-jan-2025>)
    * [Sending Personalized Videos with the HeyGen HubSpot app](https://docs.heygen.com/docs/</docs/sending-personalized-videos-with-the-heygen-hubspot-app>)
  * [Bulk Video Translation](https://docs.heygen.com/docs/</docs/bulk-video-translation>)


## Other guides
  * [HeyGen OAuth](https://docs.heygen.com/docs/</docs/heygen-oauth>)
    * [Connecting Your App to HeyGen with OAuth 2.0](https://docs.heygen.com/docs/</docs/connecting-your-app-to-heygen-with-oauth-20>)
  * [HeyGen MCP Server](https://docs.heygen.com/docs/</docs/heygen-mcp-server>)


# Streaming Avatar SDK API Reference
Streaming Avatar SDK API Reference
[ Suggest Edits](https://docs.heygen.com/docs/</edit/streaming-avatar-sdk-reference>)
The `@heygen/streaming-avatar`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK>) package provides a TypeScript SDK for interacting with HeyGen's streaming avatar service. For detailed information about the available methods, interfaces, enums, and event handling, refer to the API reference provided below.
# 
Classes
[](https://docs.heygen.com/docs/<#classes>)
### 
`StreamingAvatar`
[](https://docs.heygen.com/docs/<#streamingavatar>)
This class is the core of the SDK, responsible for managing avatar streaming sessions, including session creation, controlling avatars, and handling real-time communication.
TypeScriptTypeScript
```
const avatar = new StreamingAvatar({ token: "access-token" });

```
```
constructor({ token, basePath }: StreamingAvatarApiConfig)

```

# 
Interfaces
[](https://docs.heygen.com/docs/<#interfaces>)
### 
`StreamingAvatarApiConfig`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/70d0e9073dfc842c01555a6450ad742f8303c446/src/index.ts#L3-L6>)
[](https://docs.heygen.com/docs/<#streamingavatarapiconfig>)
Configuration object for initializing `StreamingAvatar`.
Property| Type| Description  
---|---|---  
`token`| `string`| Authentication token for the session. **Please note this is not your HeyGen API key.** You can retrieve this 'Session Token' by calling the create_token endpoint: [https://docs.heygen.com/reference/create-session-token](https://docs.heygen.com/docs/</reference/create-session-token>)  
`basePath`| `string`| Base API URL (optional, defaults to `https://api.heygen.com`).  
TypeScript
```
const config: StreamingAvatarApiConfig = {
 token: "access-token",
};

```

### 
`StartAvatarRequest`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/70d0e9073dfc842c01555a6450ad742f8303c446/src/index.ts#L13-L18>)[↗](https://docs.heygen.com/docs/</reference/new-session>)
[](https://docs.heygen.com/docs/<#startavatarrequest>)
Request payload to initiate a new avatar streaming session.
Property| Type| Description  
---|---|---  
`avatarName`| `string`| Interactive Avatar ID for the session. (default, `default`)  
`quality`| `AvatarQuality`| (Optional) The desired quality level of the avatar stream.  
`voice`| `VoiceSetting`| (Optional) [Voice settings](https://docs.heygen.com/docs/</reference/new-session#voicesetting>) for the avatar.  
`knowledgeId`| `string`| (Optional) Knowledge base ID for the avatar's knowledge / prompt. Retrieve from [labs.heygen.com](https://docs.heygen.com/docs/<https:/labs.heygen.com/interactive-avatar>).  
`knowledgeBase`| `string`| (Optional) This is used as a custom 'system prompt' for the LLM that powers the Avatar's responses when using the Talk task type in the [Speak request](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/455b0b07e4357bb3516a8a1c4e9808dd86715a4c/src/index.ts#L47-L50>) method.  
`disableIdleTimeout`| `boolean`| (Optional) Controls the avatar's session timeout behavior. When true, prevents automatic session termination during periods of inactivity. _⚠️ Do not use this feature without proper session management, as open sessions can consume your API credits!_  
TypeScript
```
const startRequest: StartAvatarRequest = {
 quality: AvatarQuality.High,
 avatarName: avatarId,
 knowledgeId: knowledgeId,
 // knowledgeBase: knowledgeBase,
 voice: {
  voiceId: voiceId,
  rate: 1.5, // 0.5 ~ 1.5
  emotion: VoiceEmotion.EXCITED,
 },
 language: language,
 disableIdleTimeout: true
};

```

### 
`StartAvatarResponse`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/70d0e9073dfc842c01555a6450ad742f8303c446/src/index.ts#L20-L26>)
[](https://docs.heygen.com/docs/<#startavatarresponse>)
The response received when an avatar session is successfully started.
Property| Type| Description  
---|---|---  
`session_id`| `string`| The unique ID of the streaming session.  
`access_token`| `string`| Token to authenticate further interactions.  
`url`| `string`| WebSocket URL for establishing the streaming session.  
`is_paid`| `boolean`| Indicates whether the session is under a paid plan.  
`session_duration_limit`| `number`| Maximum allowed duration for the session in seconds.  
Response
```
{
 "session_id": "eba59f0d-71f5-11ef-b8af-d2e5560124bc",
 "sdp": null,
 "access_token": "eyJhbGc...",
 "url": "wss://heygen-feapbkvq.livekit.cloud",
 "ice_servers": null,
 "ice_servers2": null,
 "is_paid": true,
 "session_duration_limit": 600
}

```

### 
`SpeakRequest`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/455b0b07e4357bb3516a8a1c4e9808dd86715a4c/src/index.ts#L47-L50>)[↗](https://docs.heygen.com/docs/</reference/send-task>)
[](https://docs.heygen.com/docs/<#speakrequest>)
Request payload for sending a speaking command to the avatar.
Property| Type| Description  
---|---|---  
`text`| `string`| The textual content the avatar will vocalize and synchronize with its movements.  
`taskType`| `string`| Defines the speaking behavior mode. Options include TaskType.TALK and TaskType.REPEAT.  
`taskMode`| `string`| Specifies synchronization strategy. `SYNC` blocks further actions until speaking completes, `ASYNC` allows concurrent processing.  
TypeScript
```
const speakRequest: SpeakRequest = {
 text: "Hello, there!",
 task_type: TaskType.REPEAT
};

```

# 
Methods
[](https://docs.heygen.com/docs/<#methods>)
### 
`createStartAvatar`
[](https://docs.heygen.com/docs/<#createstartavatar>)
Starts a new avatar session using the provided configuration and returns session information.
TypeScriptTypeScript
```
createStartAvatar(requestData: StartAvatarRequest): Promise<any>

```
```
const startRequest = { /* configuration settings */ };
const response = await createStartAvatar(startRequest);
console.log(response.session_id); // Store session ID for future operations

```

### 
`startVoiceChat`
[](https://docs.heygen.com/docs/<#startvoicechat>)
Starts a voice chat within the active avatar session. You can optionally enable or disable silence prompts during the chat by setting the `useSilencePrompt` flag
TypeScriptTypeScript
```
startVoiceChat(requestData: { useSilencePrompt?: boolean } = {}): Promise<any>

```
```
await startVoiceChat({ useSilencePrompt: false });

```

Property| Type| Description  
---|---|---  
`useSilencePrompt`| `boolean`| (Optional) Controls automatic conversational prompts during periods of user inactivity. Enables fallback conversational strategies.  
`isInputAudioMuted`| `boolean`| (Optional) Determines whether the user's microphone input is muted during the voice chat session. When set to `true`, the avatar will not receive audio input from the user.  
### 
`closeVoiceChat`
[](https://docs.heygen.com/docs/<#closevoicechat>)
Ends the active voice chat session within the avatar interaction.
TypeScriptTypeScript
```
closeVoiceChat(): Promise<any>

```
```
await closeVoiceChat();

```

### 
`newSession`
[](https://docs.heygen.com/docs/<#newsession>)
Creates and starts a new session using the provided `StartAvatarRequest` data, returning detailed session information such as the session ID and other metadata.
TypeScriptTypeScript
```
newSession(requestData: StartAvatarRequest): Promise<StartAvatarResponse>

```
```
const sessionData = await newSession(startRequest);
console.log("New session created:", sessionData);

```

### 
`startSession`
[](https://docs.heygen.com/docs/<#startsession>)
Starts an existing avatar session by using the previously stored session ID or configuration from a `StartAvatarRequest`.
TypeScriptTypeScript
```
startSession(): Promise<any>

```
```
const response = await startSession(sessionRequest);
console.log("Session started:", response);

```

### 
`speak`
[](https://docs.heygen.com/docs/<#speak>)
Sends a command to the avatar to speak the provided text. Additional parameters like `task_type` allow for more advanced control, like repeating or talking.
TypeScriptTypeScript
```
speak(requestData: SpeakRequest): Promise<any>

```
```
await speak({ text: "Hello, world!", task_type: TaskType.REPEAT });

```

### 
`startListening`
[](https://docs.heygen.com/docs/<#startlistening>)
Activates the avatar’s listening mode, allowing it to process incoming audio or messages from the user.
TypeScriptTypeScript
```
startListening(): Promise<any>

```
```
await startListening({});

```

### 
`stopListening`
[](https://docs.heygen.com/docs/<#stoplistening>)
Stops the avatar from listening to incoming audio or messages.
TypeScriptTypeScript
```
stopListening(): Promise<any>

```
```
await stopListening({});

```

### 
`interrupt`
[](https://docs.heygen.com/docs/<#interrupt>)
Interrupts the current speaking task.
TypeScriptTypeScript
```
interrupt(): Promise<any>

```
```
await interrupt({});

```

### 
`stopAvatar`
[](https://docs.heygen.com/docs/<#stopavatar>)
Stops the avatar session.
TypeScriptTypeScript
```
stopAvatar(): Promise<any>

```
```
await stopAvatar({});

```

### 
`on`
[](https://docs.heygen.com/docs/<#on>)
Registers an event listener for specific streaming events.
TypeScriptTypeScript
```
on(eventType: string, listener: EventHandler): this

```
```
on('messageReceived', (message) => {
 console.log("Received message:", message);
});

```

### 
off
[](https://docs.heygen.com/docs/<#off>)
Unregisters an event listener.
TypeScriptTypeScript
```
off(eventType: string, listener: EventHandler): this

```
```
off('messageReceived', listenerFunction);

```

# 
Types and Enums
[](https://docs.heygen.com/docs/<#types-and-enums>)
### 
`AvatarQuality`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/70d0e9073dfc842c01555a6450ad742f8303c446/src/index.ts#L8-L12>)
[](https://docs.heygen.com/docs/<#avatarquality>)
Defines the quality settings for the avatar.
  * **High** : `'high'` - 2000kbps and 720p.
  * **Medium** : `'medium'` - 1000kbps and 480p.
  * **Low** : `'low'` - 500kbps and 360p.


### 
`VoiceEmotion`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/455b0b07e4357bb3516a8a1c4e9808dd86715a4c/src/index.ts#L15-L21>)
[](https://docs.heygen.com/docs/<#voiceemotion>)
  * **`EXCITED`**: Excited voice emotion.
  * **`SERIOUS`**: Serious voice emotion.
  * **`FRIENDLY`**: Friendly voice emotion.
  * **`SOOTHING`**: Soothing voice emotion.
  * **`BROADCASTER`**: Broadcaster voice emotion.


### 
`TaskType`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/455b0b07e4357bb3516a8a1c4e9808dd86715a4c/src/index.ts#L43-L46>)
[](https://docs.heygen.com/docs/<#tasktype>)
  * **`TALK`**: Avatar will talk in response to the`Text` sent in tasks of this type; the response will be provided by HeyGen's connection to GPT-4o mini, and influenced by the `KnowledgeID` or `KnowledgeBase`that were provided when calling the `StartAvatarRequest` method.
  * **`REPEAT`**: Avatar will simply repeat the`Text` sent in tasks of this type; this task type is commonly used by developers who process a user's input independently, via an LLM of their choosing, and send the LLM's response as a **Repeat** task for the Avatar to say.


### 
`StreamingEvents`[](https://docs.heygen.com/docs/<https:/github.com/HeyGen-Official/StreamingAvatarSDK/blob/70d0e9073dfc842c01555a6450ad742f8303c446/src/index.ts#L50-L61>)
[](https://docs.heygen.com/docs/<#streamingevents>)
Enumerates the event types for streaming. See [Event Handling](https://docs.heygen.com/docs/<#event-handling>) for details.
  * **`AVATAR_START_TALKING`**: Emitted when the avatar starts speaking.
  * **`AVATAR_STOP_TALKING`**: Emitted when the avatar stops speaking.
  * **`AVATAR_TALKING_MESSAGE`**: Triggered when the avatar sends a speaking message.
  * **`AVATAR_END_MESSAGE`**: Triggered when the avatar finishes sending messages.
  * **`USER_TALKING_MESSAGE`**: Emitted when the user sends a speaking message.
  * **`USER_END_MESSAGE`**: Triggered when the user finishes sending messages.
  * **`USER_START`**: Indicates when the user starts interacting.
  * **`USER_STOP`**: Indicates when the user stops interacting.
  * **`USER_SILENCE`**: Indicates when the user is silent.
  * **`STREAM_READY`**: Indicates that the stream is ready for display.
  * **`STREAM_DISCONNECTED`**: Triggered when the stream disconnects.


# 
Event Handling
[](https://docs.heygen.com/docs/<#event-handling>)
The SDK emits a variety of events during a streaming session, which can be captured to update the UI or trigger additional logic. Use the `on` and `off` methods to manage event listeners.
### 
`AVATAR_START_TALKING`
[](https://docs.heygen.com/docs/<#avatar_start_talking>)
This event is emitted when the avatar begins speaking.
TypeScript
```
avatar.on(StreamingEvents.AVATAR_START_TALKING, (event) => {
 console.log('Avatar has started talking:', event);
 // You can update the UI to reflect that the avatar is talking
});

```

### 
`AVATAR_STOP_TALKING`
[](https://docs.heygen.com/docs/<#avatar_stop_talking>)
TypeScript
```
avatar.on(StreamingEvents.AVATAR_STOP_TALKING, (event) => {
 console.log('Avatar has stopped talking:', event);
 // You can reset the UI to indicate the avatar has stopped speaking
});

```

### 
`AVATAR_TALKING_MESSAGE`
[](https://docs.heygen.com/docs/<#avatar_talking_message>)
Fired when the avatar sends a message while talking. This event can be useful for real-time updates on what the avatar is currently saying.
TypeScript
```
avatar.on(StreamingEvents.AVATAR_TALKING_MESSAGE, (message) => {
 console.log('Avatar talking message:', message);
 // You can display the message in the UI
});

```

### 
`AVATAR_END_MESSAGE`
[](https://docs.heygen.com/docs/<#avatar_end_message>)
Fired when the avatar sends the final message before ending its speech.
TypeScript
```
avatar.on(StreamingEvents.AVATAR_END_MESSAGE, (message) => {
 console.log('Avatar end message:', message);
 // Handle the end of the avatar's message, e.g., indicate the end of the conversation
});

```

### 
`USER_TALKING_MESSAGE`
[](https://docs.heygen.com/docs/<#user_talking_message>)
Fired when the user sends a message to the avatar.
TypeScript
```
avatar.on(StreamingEvents.USER_TALKING_MESSAGE, (message) => {
 console.log('User talking message:', message);
 // Handle the user's message input to the avatar
});

```

### 
`USER_END_MESSAGE`
[](https://docs.heygen.com/docs/<#user_end_message>)
Fired when the user has finished sending their message to the avatar.
TypeScript
```
avatar.on(StreamingEvents.USER_END_MESSAGE, (message) => {
 console.log('User end message:', message);
 // Handle the end of the user's message, e.g., process the user's response
});

```

### 
`USER_START`
[](https://docs.heygen.com/docs/<#user_start>)
Fired when the user has finished sending their message to the avatar.
TypeScript
```
avatar.on(StreamingEvents.USER_START, (event) => {
 console.log('User has started interaction:', event);
 // Handle the start of the user's interaction, such as activating a listening indicator
});

```

### 
`USER_STOP`
[](https://docs.heygen.com/docs/<#user_stop>)
Triggered when the user stops interacting or speaking with the avatar.
TypeScript
```
avatar.on(StreamingEvents.USER_STOP, (event) => {
 console.log('User has stopped interaction:', event);
 // Handle the end of the user's interaction, such as deactivating a listening indicator
});

```

### 
`USER_SILENCE`
[](https://docs.heygen.com/docs/<#user_silence>)
Triggered when the user is silent for a certain period.
TypeScript
```
avatar.on(StreamingEvents.USER_SILENCE, () => {
 console.log('User is silent');
});

```

### 
`STREAM_READY`
[](https://docs.heygen.com/docs/<#stream_ready>)
Fired when the avatar's streaming session is ready.
TypeScript
```
avatar.on(StreamingEvents.STREAM_READY, (event) => {
 console.log('Stream is ready:', event.detail);
 // Use event.detail to attach the media stream to a video element, for example
});

```

### 
`STREAM_DISCONNECTED`
[](https://docs.heygen.com/docs/<#stream_disconnected>)
Triggered when the streaming connection is lost or intentionally disconnected.
TypeScript
```
avatar.on(StreamingEvents.STREAM_DISCONNECTED, () => {
 console.log('Stream has been disconnected');
 // Handle the disconnection, e.g., clean up the UI or try to reconnect the session
});

```

# 
Error Handling
[](https://docs.heygen.com/docs/<#error-handling>)
Always handle errors gracefully when dealing with asynchronous requests to avoid disruptions in the user experience.
TypeScript
```
try {
 await avatar.speak({ text: 'Hello!' });
} catch (error) {
 console.error('Error sending speak command:', error);
}

```

# 
Conclusion
[](https://docs.heygen.com/docs/<#conclusion>)
This reference offers a comprehensive overview of HeyGen's streaming avatar SDK, complete with examples and descriptions of methods, events, and configuration options.
Updated 21 days ago 
  * [Table of Contents](https://docs.heygen.com/docs/<#>)
  *     * [Classes](https://docs.heygen.com/docs/<#classes>)
    * [Interfaces](https://docs.heygen.com/docs/<#interfaces>)
    * [Methods](https://docs.heygen.com/docs/<#methods>)
    * [Types and Enums](https://docs.heygen.com/docs/<#types-and-enums>)
    * [Event Handling](https://docs.heygen.com/docs/<#event-handling>)
    * [Error Handling](https://docs.heygen.com/docs/<#error-handling>)
    * [Conclusion](https://docs.heygen.com/docs/<#conclusion>)


![](https://t.co/1/i/adsct?bci=4&dv=America%2FLos_Angeles%26en-US%26Google%20Inc.%26MacIntel%26127%261080%26600%268%2630%261080%26600%260%26na&eci=3&event=%7B%7D&event_id=74b0b2f3-9767-4b9b-a944-672c8951ef89&integration=advertiser&p_id=Twitter&p_user_id=0&pl_id=42a31c7c-7860-4553-a524-9faba2ac02d1&tw_document_href=https%3A%2F%2Fdocs.heygen.com%2Fdocs%2Fstreaming-avatar-sdk-reference&tw_iframe_status=0&txn_id=of0u6&type=javascript&version=2.3.33)![](https://analytics.twitter.com/1/i/adsct?bci=4&dv=America%2FLos_Angeles%26en-US%26Google%20Inc.%26MacIntel%26127%261080%26600%268%2630%261080%26600%260%26na&eci=3&event=%7B%7D&event_id=74b0b2f3-9767-4b9b-a944-672c8951ef89&integration=advertiser&p_id=Twitter&p_user_id=0&pl_id=42a31c7c-7860-4553-a524-9faba2ac02d1&tw_document_href=https%3A%2F%2Fdocs.heygen.com%2Fdocs%2Fstreaming-avatar-sdk-reference&tw_iframe_status=0&txn_id=of0u6&type=javascript&version=2.3.33)
